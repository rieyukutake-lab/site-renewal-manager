# サイトリニューアル修正管理表

ウェブサイトのリニューアル時に発生する修正項目を効率的に管理するためのアプリケーションです。
クライアントと制作チームが共同で使用し、修正内容の共有と進捗管理を視覚的に行うことができます。

## 🌐 公開URL

**本番環境**: https://silver-truffle-bc3a0f.netlify.app/

## 🔐 ログイン情報

- **パスワード**: `renewal2024`
- セッション有効期限: 24時間
- ログアウトはヘッダーの「ログアウト」ボタンから

## ✨ 主な機能

### 1. 修正項目の管理（CRUD操作）
- ✅ 新規登録：タイトル、説明、優先度、カテゴリなどの項目を登録
- ✅ 編集：登録済みの項目を編集
- ✅ 削除：不要な項目を削除
- ✅ 詳細表示：項目をクリックして詳細情報を表示

### 2. 画面キャプチャ機能
- 📸 **画像アップロード**（最大5MB、自動リサイズ）
- 🖱️ **ドラッグ&ドロップ対応**
- ⌨️ **クリップボードペースト対応**（Ctrl+V / ⌘+V）
- 🖼️ **画像プレビュー・拡大表示**
- 🔄 **自動WebP変換**（ファイルサイズ削減）

### 3. 対応状況管理
- **ステータス管理**:
  - 未対応（赤）
  - 対応中（青）
  - 確認待ち（オレンジ）
  - 完了（緑）
  - 保留（グレー）
- **リスト上で直接ステータス変更可能**（ドロップダウン選択）
- **優先度**: 高、中、低
- **カテゴリ**: デザイン、機能、コンテンツ、バグ、その他

### 4. フィルタリング・検索
- 📊 **統計カードでフィルター**：カードをクリックするとステータスで絞り込み
- 🔍 **リアルタイム検索**：タイトルと説明を全文検索（ヘッダーの検索窓）
- 🎨 **ステータス別の色分け表示**

### 5. 統計ダッシュボード
- 総件数
- 未対応件数
- 対応中件数
- 確認待ち件数
- 完了件数
- 保留件数

### 6. その他の機能
- 📄 **ページネーション**（1ページ50件表示）
- 📱 **レスポンシブデザイン**（デスクトップ、タブレット、スマートフォン対応）
- 📅 **期限管理**（期限切れ項目を強調表示）
- 👤 **担当者管理**
- 🔄 **ソート機能**（各列ヘッダーをクリックで昇順・降順切替）

## 🗂️ データ構造

### issues テーブル

| フィールド名 | 型 | 説明 |
|------------|------|------|
| id | UUID | 自動生成される一意のID |
| title | text | 修正タイトル（必須） |
| description | text | 修正内容の詳細説明 |
| page_url | text | 対象ページのURL |
| screenshot | text | 画面キャプチャ（Base64エンコード画像） |
| status | text | 対応状況（未対応、対応中、確認待ち、完了、保留） |
| priority | text | 優先度（高、中、低） |
| category | text | カテゴリ（デザイン、機能、コンテンツ、バグ、その他） |
| assignee | text | 担当者名 |
| due_date | timestamptz | 期限 |
| created_at | timestamptz | 作成日時（自動） |

## 💾 データベース

**Supabase**（無料プラン）を使用しています。

- **プロジェクトURL**: https://ujagpluxraulkffnlzqh.supabase.co
- **Region**: Northeast Asia (Tokyo)
- データは複数人でリアルタイムに共有されます

## 📖 使い方

### 1. 新規項目の登録

1. **「新規追加」ボタン**をクリック
2. 必須項目を入力：
   - タイトル
   - ステータス
   - 優先度
   - カテゴリ
3. オプション項目を入力：
   - 詳細説明
   - 担当者
   - ページURL
   - 期限
4. **画像をアップロード**（3つの方法）：
   - ファイル選択ボタン
   - ドラッグ&ドロップ
   - クリップボードからペースト（Ctrl+V）
5. **「保存」ボタン**をクリック

### 2. 項目の編集

1. リストから項目の**「✏️ 編集」ボタン**をクリック
2. 情報を更新
3. **「保存」ボタン**をクリック

### 3. 項目の削除

1. リストから項目の**「🗑️ 削除」ボタン**をクリック
2. 確認ダイアログで「OK」をクリック

### 4. 詳細情報の表示

1. リストの行をクリック
2. 詳細モーダルが開く
3. 登録されている全情報、作成日時、更新日時を確認

### 5. フィルタリング・検索

- **統計カードをクリック**：そのステータスの項目のみ表示
- **検索窓に入力**：タイトルと説明をリアルタイム検索
- **総件数カードをクリック**：フィルターを解除

### 6. ステータスの変更

リスト上のステータス列のドロップダウンで直接変更できます。
変更は即座に保存されます。

### 7. ソート

テーブルのヘッダーをクリックすると、その列でソートできます。
もう一度クリックすると昇順・降順が切り替わります。

## 🎨 画面構成

1. **ヘッダー**
   - タイトル
   - 検索窓
   - 新規追加ボタン
   - ログアウトボタン

2. **統計情報**
   - 6つのカード（総件数、未対応、対応中、確認待ち、完了、保留）
   - クリックで絞り込み可能

3. **項目リスト（テーブル形式）**
   - ステータス（色分け、ドロップダウン変更可）
   - 優先度（色分け）
   - タイトル（画像アイコン付き）
   - 詳細説明（100文字まで表示）
   - カテゴリ
   - 担当者
   - 期限（期限切れは赤色表示）
   - 登録日
   - 操作（編集・削除ボタン）

## 🚀 デプロイ手順（Netlify）

### 必要なファイル

```
プロジェクトフォルダ/
├── index.html
├── netlify.toml
├── README.md
├── css/
│   └── style.css
└── js/
    ├── supabase-client.js
    ├── auth.js
    └── app.js
```

### デプロイ方法

1. **Netlify**（https://www.netlify.com/）にログイン
2. 「**Add new site**」→「**Deploy manually**」
3. プロジェクトフォルダをドラッグ&ドロップ
4. 数秒で自動デプロイ完了
5. 発行されたURLをクライアントに共有

### 更新方法

1. ファイルを修正
2. Netlifyダッシュボードの「Deploys」タブ
3. 更新したファイルをドラッグ&ドロップ
4. 自動的に再デプロイ

## 💡 使用上のヒント

### 複数人での利用

- ✅ 全員が同じURLにアクセス
- ✅ 全員が共通のパスワードでログイン
- ✅ データベースは共有されるため、全員が同じデータを見られる
- ⚠️ リアルタイム更新ではないため、最新データを見るにはページ更新が必要
- 💡 同じ項目を同時に編集すると、後から保存した内容が優先される

### 推奨される運用フロー

1. **クライアント**: 修正箇所を発見 → 「未対応」で登録、画像添付
2. **制作側**: 確認 → ステータスを「対応中」に変更
3. **制作側**: 対応完了 → ステータスを「確認待ち」に変更
4. **クライアント**: 確認 → 問題なければ「完了」に変更

### 画像のベストプラクティス

- 📸 スクリーンショットをそのままアップロード（自動でリサイズ・最適化）
- 🎯 必要な部分だけトリミングすると見やすい
- 📝 複数箇所を指摘する場合は、項目を分けて登録

### 優先度の使い分け

- **高**: 致命的なバグ、重要なデザイン崩れ
- **中**: 通常の修正、改善要望
- **低**: 細かい調整、任意の変更

### カテゴリの使い分け

- **デザイン**: 見た目、レイアウト、色、フォント
- **機能**: ボタン動作、リンク、フォーム
- **コンテンツ**: 文章、画像の差し替え
- **バグ**: エラー、正常に動作しない
- **その他**: 上記以外

## ⚠️ 重要な注意事項

### セキュリティ

- 🔒 パスワードは簡易的な保護です
- ❌ 機密情報の登録は避けてください
- 👥 関係者以外にパスワードを共有しないでください
- 🔐 本格的なセキュリティが必要な場合は、別途認証システムの導入を検討してください

### データについて

- 💾 データはSupabaseに保存されます（無料プラン）
- 📦 無料プランの制限: データベース500MB、月間帯域幅2GB
- 🔄 定期的にバックアップすることをおすすめします

### 画像について

- 📏 画像は自動的に最大1920×1920ピクセルにリサイズ
- 🔄 WebP形式に変換（品質80%）
- 💾 Base64形式でデータベースに保存
- ⚠️ 極端に大きな画像（10MB以上）はアップロード前に圧縮推奨

### ブラウザ対応

- ✅ **推奨**: Chrome、Edge、Safari、Firefoxの最新版
- ⚠️ Internet Explorer非対応

## 🛠️ トラブルシューティング

### ログインできない
- パスワードが正しいか確認（`renewal2024`）
- ブラウザのキャッシュをクリア

### 新規追加ボタンが反応しない
- ページを更新（F5）
- ブラウザのコンソールエラーを確認（F12）

### 画像がアップロードできない
- ファイルサイズを確認（5MB以下）
- 画像形式を確認（JPEG、PNG推奨）

### データが保存されない
- インターネット接続を確認
- Supabaseの接続状況を確認
- ブラウザのコンソールエラーを確認（F12）

### 他の人の更新が見えない
- ページを更新（F5）
- リアルタイム更新ではないため、手動更新が必要

## 📁 ファイル構成

```
project/
├── index.html              # メインHTML
├── netlify.toml           # Netlify設定
├── DEPLOYMENT.md          # デプロイ手順書
├── README.md              # このファイル
├── css/
│   └── style.css          # スタイルシート
└── js/
    ├── supabase-client.js # Supabase接続クライアント
    ├── auth.js            # 認証機能
    └── app.js             # メインアプリケーション
```

## 🔧 技術スタック

- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **データベース**: Supabase（PostgreSQL）
- **ホスティング**: Netlify
- **ライブラリ**:
  - Font Awesome（アイコン）
  - Google Fonts（Noto Sans JP）

## 📝 今後の改善案

- [ ] リアルタイム更新機能（WebSocket）
- [ ] CSVエクスポート機能
- [ ] 一括ステータス変更
- [ ] コメント機能
- [ ] 履歴機能
- [ ] メール通知機能
- [ ] ユーザー権限管理

## 📞 サポート

問題が発生した場合は、以下の情報を共有してください：

1. 使用しているブラウザとバージョン
2. エラーメッセージ（F12で確認）
3. どの操作で問題が発生したか
4. スクリーンショット

---

**🎉 サイトリニューアルの成功をお祈りしています！**
